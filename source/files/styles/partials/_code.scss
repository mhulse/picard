pre {
	word-wrap: normal;
	overflow: auto;
	white-space: pre;
	-webkit-overflow-scrolling: touch;
}

.pre {
	
	@include baseline($base_font-size, .875);
	text-align: left;
	color: $gray4;
	background: rgba($graye, .5);
	border: #{relative(1)}rem solid $grayd;
	padding: #{relative($base_padding) / 2}rem #{relative($base_padding)}rem;
	border-radius: #{relative($base_radii)}rem;
	
	// Blinking cursor.
	// @see http://fredericiana.com/2012/11/04/html5-blink-tag/
	.cursor {
		-webkit-animation-duration: 2s;
				animation-duration: 2s;
		-webkit-animation-name: cursor-blink;
				animation-name: cursor-blink;
		-webkit-animation-iteration-count: infinite;
				animation-iteration-count: infinite;
		-webkit-animation-timing-function: steps(2, start);
				animation-timing-function: steps(2, start);
	}
	
	// Prompt style.
	.prompt { color: $raven; }
	
	&.terminal {
		
		letter-spacing: .05em;
		color: lighten(adjust-hue($hulk, 45), 20%);
		text-shadow: 0 #{relative(1)}rem 0 $raven;
		background: darken($hulk, 25%);
		border: #{relative(1)}rem solid $raven;
		box-shadow: inset 0 0 #{relative(5)}rem 0 rgba($raven, .75);
		
		.cursor {
			color: transparent;
			background: $lobster;
			letter-spacing: -.15em;
		}
		
		.prompt { color: $hulk; }
		
	}
	
}

code,
%code {
	font-size: inherit;
	font-family: $mono;
	font-weight: normal;
	font-style: normal;
	letter-spacing: normal;
	white-space: pre;           // CSS 2.0
	white-space: pre-wrap;      // CSS 2.1
	white-space: pre-line;      // CSS 3.0
	white-space: -pre-wrap;     // Opera 4-6
	white-space: -o-pre-wrap;   // Opera 7
	white-space: -moz-pre-wrap; // Mozilla
	white-space: -hp-pre-wrap;  // HP Printers
	word-wrap: break-word;      // IE 5+
}

code {
	letter-spacing: .05em;
	color: $bruise;
	background: rgba($bruise, .25);
	padding: #{relative(2)}rem #{relative(3)}rem;
	border-radius: #{relative($base_radii)}rem;
}

kbd {
	@extend %code;
	font-size: smaller;
	color: $gray3;
	text-shadow: 0 #{relative(1)}rem 0 $milk;
	background-color: $graye;
	border: #{relative(1)}rem solid $grayc;
	margin: 0 .1em;
	padding: 0 .5em;
	display: inline-block;
	-webkit-background-clip: padding;
	   -moz-background-clip: padding;
			background-clip: padding-box;
	border-radius: #{relative($base_radii)}rem;
	box-shadow: 0 #{relative(1)}rem 0 rgba($raven, .2), 0 0 0 #{relative(2)}rem $milk inset;
}

samp { @extend %code; }

var { @extend %code; }

pre code,
pre kbd,
pre samp,
pre var,
kbd kbd {
	font-size: inherit;
	color: inherit;
	text-shadow: none;
	background: transparent;
	border: 0;
	margin: 0;
	padding: 0;
	display: inline;
	box-shadow: none;
	border-radius: 0;
}

// Gist embeds:
.gist { text-align: left; }
.gist-file {
	margin: {
		top: #{relative($base_margin)}rem;
		bottom: #{relative($base_margin)}rem;
	}
}
